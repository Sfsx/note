# 图解Http

## 第一章 了解Web及网络基础

### 1.1 使用 HTTP 协议访问 Web

### 1.2 HTTP 诞生

#### 1.2.1 为知识共享而规划 Web

欧洲原子核研究组织的蒂姆·伯纳斯—李博士提出了一种能让两地的研究者们共享知识的设想。

#### 1.2.3 驻足不前的 HTTP

##### HTTP/0.9

1990 ~ 1996 年 HTTP 没有作为正式标准被建立

##### HTTP/1.0

1996 年 5 月 HTTTP 正式作为标准被公布。

##### HTTP/1.1

1997 年 1 月 公布的 HTTP/1.1 是目前主流的 HTTP 协议版本。当初的标准是 RFC 2068。

##### HTTTP/2.0

2015 年 5 月 HTTP/2 标准以 RFC 7540 正式发布。

### 1.3 网络基础 TCP/IP

#### 1.3.2 TCP/IP 的分层管理

不同于计算书网络的分层协议。TCP/IP协议族按层次分别分为以下4层：

+ 应用层
  + HTTP 协议
  + FTP 协议
  + DNS 服务等
+ 传输层
  + TCP
  + UDP
+ 网络层
  + 网络层起的作用就是在众多的选项内选择一条传输路线。
+ 数据链路层

### 1.4 与 HTTP 关系密切的协议：IP、TCP 和 DNS

#### 1.4.1 负责传输的IP协议

按层次分，IP 网际协议位于网络层。

为了保证传输，其中重要的两个条件就是 IP 地址 和 MAC 地址。

IP 地址指明了介蒂安被分配的地址， MAC 地址是指网卡网卡所属的固定地址。IP 地址可以和 MAC 地址进行配对。IP 地址可变换，但 MAC 地址基本上不会更改。

在网络中转过程中，先通过 ARP 协议解析目标 IP 的 MAC 地址，比对下一站中转设备的 MAC 地址来搜索下一个中转目标。

#### 1.4.2 确保可靠性的 TCP 协议

TCP 位于传输层，提供可靠的字节流服务。

##### 三次握手

发送端首先发送过一个带 SYN 标志的数据包给对方。接收端收到后，回传一个带有 SYN/ACK 标志的数据包以示传达确认信息。最后，发送端再回传一个带 ACK 标志的数据包，代表“握手”结束

### 1.5 负责域名解析的 DNS 服务

### 1.6 各种协议与 HTTP 协议的关系

### 1.7 URI 和 URL

URI 用字符串标识某一互联网资源，而 URL 表示资源的地点，可见 URL 是 URI 的子集。

## 第二章 简单 HTTP 协议

### 2.1 HTTP 协议用于客户端和服务器之间的通信

### 2.2 通过请求和响应的交换达成通信

### 2.3 HTTP 是不保存状态的协议

HTTP 协议自身不对请求和响应之间的用性状态进行保存。

HTTP/1.1 虽然是无状态协议，但是为了保存状态功能于是引入了 Cookie

### 2.4 请求 URI 定位资源

下面的 `http://hackr.jp/index.htm` 即为一个 URI

```html
GET http://hackr.jp/index.htm HTTP/1.1
```

仅对服务器发起请求

```html
OPTIONS * HTTP/1.1
```

### 2.5 告知服务器意图的 HTTP 方法

这里不是指RESTful API

#### GET: 获取资源

#### POST: 传输实体主体

#### PUT: 传输文件

#### HEAD: 获得报文首部

```html
HADE /index.html HTTP/1.1
```

#### DELETE: 删除文件

#### OPTION: 询问支持的方法

#### TRACE: 追踪路径

TRACE 方法是让 Web 服务器端将之前的请求通信返回给客户端的方法。

#### CONNNECT: 要求用隧道协议连接代理